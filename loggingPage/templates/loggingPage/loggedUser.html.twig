{% extends 'loggingPage/base.html.twig' %}

{% block title %}User page{% endblock %}

{% block body %}
	<div>
		<h1>Bonjour {{ user.username }}</h1>
		<hr>
		<p>Votre email: {{ user.email }}</p>

		{# Button triggers modal #}
		<button type="button" class="btn btn-warning" data-toggle="modal" data-target="#emailModal">Modifier l'email</button>
		
		{# Modal #}
		<div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="emailEdit">Modification de votre email</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <form method="post">
		      	<div class="modal-body">
		      		<p>Former email: {{ user.email }}</p>
		      		<div class="form-group">
		            	{% csrf_token %}
						{{ form.as_p }}
		            </div>
		      	</div>
		      	<div class="modal-footer">
		      		<button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
		      		<button type="submit" class="btn btn-success">Enregistrer</button>
		      	</div>
		      </form>
		    </div>
		  </div>
		</div>

		<hr>
		<p><br><a href="{% url 'signout' %}" class="btn btn-danger">Sign out</a></p>
	</div>
{% endblock %}